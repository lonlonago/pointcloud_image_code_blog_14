Here I will share some of the pits I encountered using the PCL library, as well as summary skills. Of course, you need to share more and forward the official account articles or knowledge planet articles to Moments. 

 pcl_common mainly contains common data structures and methods commonly used in PCL libraries, such as PointCloud classes and many types used to represent points, surfaces, normal vectors, feature descriptions, etc., functions for calculating distance, mean and covariance, angle conversion and geometric changes. 

 For various points, the data structures of the types of features will not be exemplified here, which depends on the actual situation. 

 Here mainly introduce the basic common function functions, these functions in fact C++ can also be implemented by themselves, in the PCL provides more overload interface, easy to use. 

 Header files in common modules 

 Angles .h defines the angle calculation function of the standard C interface 

 Centriod.h defines the estimation of the center point and the calculation of the covariance matrix 

 Como.h standard C and C++ classes, which are the parent classes of other common functions 

 Distance.h defines the standard C interface for calculating distances 

 file_io defines some functions that help write or read files. 

 Random.h defines some functions generated by random point clouds 

 Geometry.h functions that define some basic geometric functions 

 Intersection.h defines the function where lines intersect 

 Norm.h defines the standard C method for calculating the regularization of matrices 

 Time.h defines a function for calculating time 

 Point_types defines the types of data structures for all PCL-implemented point clouds 

 Basic functions in common modules 

 pcl :: rad2deg (flat alpha) 

 From radians to angles 

 pcl :: deg2rad (float aipha) 

 From Angle to Radian 

 pcl::normAngle(float alpha) 

 The regularization angle is between (-PI, PI) 

 pcl::compute3DCentroid (const pcl::PointCloud< PointT > &cloud, Eigen::Matrix< Scalar, 4, 1 > &centroid) 

 Computes the 3D center point of a given group of points and returns a 3D vector 

 pcl::computeCovarianceMatrix (const pcl::PointCloud< PointT > &cloud, const Eigen::Matrix< Scalar, 4, 1 > &centroid, Eigen::Matrix< Scalar, 3, 3 > &covariance_matrix) 

 Compute the covariance matrix for a given three-dimensional point cloud. 

 pcl::computeMeanAndCovarianceMatrix (const pcl::PointCloud< PointT > &cloud, Eigen::Matrix< Scalar, 3, 3 > &covariance_matrix, Eigen::Matrix< Scalar, 4, 1 > &centroid 

 Compute the regularized 3 * 3 covariance matrix and the center point of the given point cloud data 

 pcl::demeanPointCloud (const pcl::PointCloud< PointT > &cloud_in, const Eigen::Matrix< Scalar, 4, 1 > &centroid, pcl::PointCloud< PointT > &cloud_out) 

 pcl:: computeNDCentroid (const pcl:: PointCloud < PointT > & cloud, Own:: Matrix < Scalar, Own:: Dynamic, 1 > & centroid) 

 The index of a set of points is used to estimate the nD center. 

 pcl:: getAngle3D (const Own:: Vector4f & v1, const Own:: Vector4f & v2, const bool in _ degree = false) 

 Calculate the angle between two vectors 

 pcl::getMeanStd (const std::vector< float > &values, double &mean, double &stddev) 

 Simultaneously calculate the mean and standard deviation of the given point cloud data 

 pcl::getPointsInBox (const pcl::PointCloud< PointT > &cloud, Eigen::Vector4f &min_pt, Eigen::Vector4f &max_pt, std::vector< int > &indices) 

 Gets a set of points located in the box given a boundary 

 pcl::getMaxDistance (const pcl::PointCloud< PointT > &cloud, const Eigen::Vector4f &pivot_pt, Eigen::Vector4f &max_pt) 

 The value of the maximum distance between points in a given point cloud data 

 pcl::getMinMax3D (const pcl::PointCloud< PointT > &cloud, PointT &min_pt, PointT &max_pt) 

 Gets the maximum and minimum values on the XYZ axis in a given point cloud 

 pcl::getCircumcircleRadius (const PointT &pa, const PointT &pb, const PointT &pc) 

 Calculate the circumcircle radius of a triangle composed of three points pa, pb and pc. 

 pcl::getMinMax (const PointT &histogram, int len, float &min_p, float &max_p) 

 Gets the minimum and maximum values on the point histogram. 

 pcl::calculatePolygonArea (const pcl::PointCloud< PointT > &polygon) 

 Calculate the area of a polygon from the point cloud of a given polygon 

 pcl::copyPoint (const PointInT &point_in, PointOutT &point_out) 

 Assign field data from Point_in to Point_out 

 pcl:: lineToLineSegment (const Own:: VectorXf & line _ a, const Own:: VectorXf & line _ b, Own:: Vector4f & pt1 _ seg, Own:: Vector4f & pt2 _ seg) 

 Get the shortest 3D line segment between two 3D lines 

 pcl::sqrPointToLineDistance (const Eigen::Vector4f &pt, const Eigen::Vector4f &line_pt, const Eigen::Vector4f &line_dir) 

 Get the square distance from point to line (represented by points and directions) 

 pcl::getMaxSegment (const pcl::PointCloud< PointT > &cloud, PointT &pmin, PointT &pmax) 

 Gets the maximum segment in a given set of points, and returns the minimum and maximum points. 

 pcl:: eigen22 (const Matrix & mat, typename Matrix:: Scalar & eigenvalue, Vector & eigenvector) 

 Determine the minimum eigenvalue and its corresponding eigenvector 

 pcl::computeCorrespondingEigenVector (const Matrix &mat, const typename Matrix::Scalar &eigenvalue, Vector &eigenvector) 

 Determining the Eigenvector Corresponding to the Given Eigenvalue of Symmetric Positive Semidefinite Input Matrix 

 pcl:: eigen33 (const Matrix & mat, typename Matrix:: Scalar & eigenvalue, Vector & eigenvector) 

 Determining Eigenvector and Eigenvalue of Minimum Eigenvalue of Symmetric Positive Semidefinite Input Matrix 

 pcl::invert2x2 (const Matrix &matrix, Matrix &inverse) 

 Compute the inverse of a 2x2 matrix. 

 pcl::invert3x3SymMatrix (const Matrix &matrix, Matrix &inverse) 

 Compute the inverse of a 3x3 symmetric matrix. 

 pcl::determinant3x3Matrix (const Matrix &matrix) 

 Calculating the determinant of a 3x3 matrix 

 pcl::getTransFromUnitVectorsZY (const Eigen::Vector3f &z_axis, const Eigen::Vector3f &y_direction, Eigen::Affine3f &transformation) 

 To get a unique 3D rotation, rotate the Z axis to (0, 0, 1) and the Y axis to (0, 1, 0) and the two axes are orthogonal. 

 pcl::getTransformationFromTwoUnitVectorsAndOrigin (const Eigen::Vector3f &y_direction, const Eigen::Vector3f &z_axis, const Eigen::Vector3f &origin, Eigen::Affine3f &transformation) 

 Get the transformation that converts origin to (0, 0, 0) and rotates the Z axis into (0, 0, 1) and the Y direction (0, 1, 0). 

 pcl::getEulerAngles (const Eigen::Transform< Scalar, 3, Eigen::Affine > &t, Scalar &roll, Scalar &pitch, Scalar &yaw) 

 Extracting the Euler angle from a given transformation matrix 

 pcl::getTranslationAndEulerAngles (const Eigen::Transform< Scalar, 3, Eigen::Affine > &t, Scalar &x, Scalar &y, Scalar &z, Scalar &roll, Scalar &pitch, Scalar &yaw) 

 In the given transformation, extract XYZ and Euler angles 

 pcl::getTransformation (float x, float y, float z, float roll, float pitch, float yaw) 

 Create a transformation matrix from a given translation and Euler angle 

 pcl::saveBinary (const Eigen::MatrixBase< Derived > &matrix, std::ostream &file) 

 Save or write the matrix to an output stream 

 pcl::loadBinary (Eigen::MatrixBase< Derived > const &matrix, std::istream &file) 

 Read matrix from input stream 

 pcl::lineWithLineIntersection (const Eigen::VectorXf &line_a, const Eigen::VectorXf &line_b, Eigen::Vector4f &point, double sqr_eps=1e-4) 

 Gets two 3D lines in space as the intersection of 3D points. 

 pcl::getFieldIndex (const pcl::PCLPointCloud2 &cloud, const std::string &field_name) 

 Get the index of the specified field (i.e. dimension/channel) 

 pcl::getFieldsList (const pcl::PointCloud< PointT > &cloud) 

 Gets a list of all available fields in the cloud at a given point 

 pcl::getFieldSize (const int datatype) 

 Gets the size (in bytes) of a specific field data type. 

 pcl::concatenatePointCloud (const pcl::PCLPointCloud2 &cloud1, const pcl::PCLPointCloud2 &cloud2, pcl::PCLPointCloud2 &cloud_out) 

 Connect PCL :: PCL Point Cloud 2 type point cloud field 

 If you are interested in this article, please click "Original Reading" to get the QR code of Knowledge Planet. Be sure to join the free Knowledge Planet according to the remarks of "Name + School/Company + Research Direction", download the pdf document for free, and communicate with more friends who love to share! 

 ![avatar]( 20200705154029688.PNG) 

